---
title: é…ç½®clashçš„yamlæ–‡ä»¶çš„æ•™ç¨‹
date: 2023-04-18 08:00:52
tags:
---
# clashé…ç½®æ–‡ä»¶çš„è‡ªå®šä¹‰æ•™ç¨‹

## ä¸ºä»€ä¹ˆè¦å­¦ä¼šé…ç½®clashçš„yamlæ–‡ä»¶ï¼Ÿ

å­¦ä¼šé…ç½®yamlæ–‡ä»¶å¯ä»¥å®ç°ä»¥ä¸‹å†…å®¹

- å¯ä»¥åŒæ—¶è®¢é˜…å¤šä¸ªæœºåœº
- å¯ä»¥å…ˆä¸ªæ€§åŒ–èŠ‚ç‚¹åˆ†æµ(è€Œä¸”å¤§éƒ¨åˆ†æœºåœºä¸å¸¦åˆ†æµç­–ç•¥)
- openclashå¥½åƒå¿…é¡»è¦ç”¨yamlæ–‡ä»¶

## å„ä¸ªå®¢æˆ·ç«¯å¦‚ä½•å¯¼å…¥é…ç½®æ–‡ä»¶

### ä¸€.clash for windowsï¼ˆwindows/macï¼‰

ä¸­æ–‡ç‰ˆ:clash-é…ç½®-å¯¼å…¥-ä½ è¦å¯¼å…¥çš„yamlé…ç½®æ–‡ä»¶-æ‰“å¼€

![](../src/%E9%85%8D%E7%BD%AEclash%E7%9A%84yaml%E6%96%87%E4%BB%B6%E7%9A%84%E6%95%99%E7%A8%8B/yaml%20for%20clash%20for%20windows.png)

### äºŒ.openclash(openwrt)
![](../src)
### ä¸‰.clash for Android
ç•¥
![](../src)
### å¸¸è§é—®é¢˜ï¼š

#### å¯¼å…¥å¤±è´¥çš„ä¸€äº›åŸå› åŠè§£å†³æ–¹æ³•:(ä¸åŒå®¢æˆ·ç«¯æœ‰å·®å¼‚)

- å› ä¸ºç½‘ç»œåŸå› ï¼Œæ— æ³•è®¿é—®é…ç½®æ–‡ä»¶ä¸­çš„url
  å…ˆæ‰“å¼€ä»£ç†æˆ–vpnæ˜¯ç”µè„‘å¯ä»¥è®¿é—®ç›®æ ‡urlæˆ–è€…å°†ä¸èƒ½è®¿é—®çš„urlæ³¨é‡Šæ‰ï¼Œå†å¯¼å…¥
- filterå¤±è´¥ï¼Œå› ä¸ºä½ çš„èŠ‚ç‚¹ä¸­æ²¡ç”¨æ‰¾åˆ°ä»»ä½•ç›¸å…³çš„å…³é”®è¯
  æŠŠç›¸å…³filteræ³¨é‡Šæ‰


## å¥—ç”¨ä»–äººyamlæ–‡ä»¶ï¼ˆè¿™é‡Œæˆ‘æä¾›äº†æ¨¡æ¿ï¼‰
å…ˆçœ‹å¥—ç”¨æˆ‘çš„yamlçš„æ•ˆæœå›¾:(å…¶ä¸­ä¸åŒè½¯ä»¶æˆ–ç½‘ç«™çš„åˆ†æµæ˜¯é€šè¿‡rule-providerså’Œrulesæ¥å®ç°çš„)
![](../src/%E9%85%8D%E7%BD%AEclash%E7%9A%84yaml%E6%96%87%E4%BB%B6%E7%9A%84%E6%95%99%E7%A8%8B/%E8%87%AA%E5%AE%9A%E4%B9%89%E9%85%8D%E7%BD%AE%E5%90%8E%E7%9A%84%E6%95%88%E6%9E%9C.png)
1. ä¸‹è½½æˆ–å¤åˆ¶ä»–äººçš„yamlæ–‡ä»¶
2. å°†ä»–äººçš„é…ç½®æ·»åŠ åˆ°è‡ªå·±çš„é…ç½®ä¸­
   - ç¬¬ä¸€æ¬¡é…ç½®çš„è¯,ç›´æ¥æ”¹åˆ«äººçš„é…ç½®æ–‡ä»¶å³å¯,è¿™é‡Œä»¥æˆ‘æä¾›çš„æ¨¡æ¿ç¤ºèŒƒä¸€ä¸‹
     æ¨¡æ¿æ–‡ä»¶ä¸‹è½½åœ°å€
   - å·²ç»é…ç½®å¥½è‡ªå·±çš„æƒ…å†µä¸‹,å°†å¯¹æ–¹çš„è§„åˆ™æ·»åŠ åˆ°è‡ªå·±çš„é…ç½®ä¸­
     æ·»åŠ ç›¸åº”çš„rulesï¼Œrule-providers,å°†è§„åˆ™ä½¿ç”¨äºproxiesä¸­

### å¦‚ä½•å¥—ç”¨æˆ‘æä¾›çš„æ¨¡æ¿ï¼ˆå¼„ä¸å¥½å¯ä»¥å…ˆé€‚ç”¨æˆ‘æä¾›çš„æ ·ä¾‹ï¼‰
1. å…ˆä¸‹è½½æˆ‘æä¾›çš„æ¨¡æ¿
   æ¨¡æ¿:[clashé…ç½®æ¨¡æ¿](clash%E9%85%8D%E7%BD%AE%E6%A8%A1%E6%9D%BF.yml)
   å¯ç›´æ¥ä½¿ç”¨çš„æ ·ä¾‹:[clashçš„yamlæ ·ä¾‹](clash%E9%85%8D%E7%BD%AE%E5%8F%AF%E7%9B%B4%E6%8E%A5%E7%94%A8%E7%9A%84%E6%A0%B7%E4%BE%8B%EF%BC%88%E8%AF%B7%E4%B9%8B%E5%90%8E%E8%87%AA%E5%B7%B1%E6%9B%B4%E6%8D%A2%E8%AE%A2%E9%98%85%E5%9C%B0%E5%9D%80%EF%BC%89.yml)


2. æ‰“å¼€æˆ‘çš„æ¨¡æ¿,æ›´æ”¹æä¾›èŠ‚ç‚¹çš„é“¾æ¥ä¸ºä½ çš„è®¢é˜…é“¾æ¥
  1. æ‰¾åˆ°proxy-providers
  2. æŠŠæœºåœºçš„åå­—ä»¥åŠurlæ›¿æ¢ä¸ºä½ çš„
  ä¾‹å¦‚ï¼š
  åŸæ¨¡æ¿ï¼š
  ```yaml
proxy-providers: #è¿™ä¸ªæ˜¯è½½å…¥è·å–ä»£ç†ç­–ç•¥çš„æ–‡ä»¶æˆ–è€…ç½‘å€

  åˆå¹¶è®¢é˜…: #ç›®å‰å¥½åƒåªæœ‰proxy-providersä¼šç­›é€‰èŠ‚ç‚¹ æ‰€ä»¥å°±å†™åˆ°è¿™é‡Œï¼Œè€Œä¸”å¥½åƒåªèƒ½ç”¨ä¸€ä¸ªåœ°å€ï¼Œéœ€è¦åˆå¹¶è®¢é˜… #å¯¼å…¥åˆå¹¶è®¢é˜…çš„é“¾æ¥æ¥æŸ¥çœ‹æ‰€æœ‰æœºåœºçš„èŠ‚ç‚¹æƒ…å†µ
    type: http
  
    url: ä½ åˆå¹¶è®¢é˜…çš„åœ°å€æ ¼å¼åº”è¯¥æ˜¯https://api.dler.io/sub?target=clash&url=https* #åˆå¹¶è®¢é˜…çš„åœ°å€


    path: ./profiles/proxies/åˆå¹¶è®¢é˜….yaml
    interval: 600
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 300

  ikuuu: #è‡ªå®šä¹‰çš„åç§° å¯ä»¥åˆ†åˆ«å¯¼å…¥ä¸åŒæœºåœºçš„url,æ¥ä»clashè§‚çœ‹ä¸åŒçš„æœºåœºçš„èŠ‚ç‚¹æƒ…å†µ
    type: http # æ¥æºç±»å‹ï¼šæœ‰httpå’Œfile
    url: ikuuuçš„è®¢é˜…åœ°å€æ ¼å¼ä¸ºhttps//*/ #åœ°å€æ¥æº
    path: ./profiles/proxies/ikuuu.yaml #ä¸çŸ¥é“ä¸ºä»€ä¹ˆä¸ç”Ÿæ•ˆ#è¿™ä¸ªçœäº†å®‰å“å°±è½½å…¥ä¸äº†é…ç½®
    interval: 300 #æ›´æ–°é…ç½®çš„æ—¶é—´é—´éš”
    health-check: #ç”¨äºæ£€æŸ¥é…ç½®ç½‘ç»œæƒ…å†µçš„ç½‘ç«™å’Œé—´éš”
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 600

  ä¸‰åˆ†æœºåœº:
    type: http
    url: ä¸‰åˆ†æœºåœºçš„è®¢é˜…åœ°å€,åœ°å€æ ¼å¼ä¸ºhttps//*/
    path: ./profiles/proxies/ä¸‰åˆ†æœºåœº.yaml
    interval: 600
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 300



  æ—¥æœ¬: #ç›®å‰å¥½åƒåªæœ‰proxy-providersä¼šç­›é€‰èŠ‚ç‚¹ æ‰€ä»¥å°±å†™åˆ°è¿™é‡Œï¼Œè€Œä¸”å¥½åƒåªèƒ½ç”¨ä¸€ä¸ªåœ°å€ï¼Œéœ€è¦åˆå¹¶è®¢é˜… #å…ˆé€šè¿‡å¯¼å…¥åˆå¹¶è®¢é˜…é“¾æ¥ï¼Œå†ç­›é€‰å‡ºæŸä¸ªå›½å®¶çš„èŠ‚ç‚¹ï¼Œä»¥è¾¾åˆ°æŒ‰å›½å®¶é€‰æ‹©èŠ‚ç‚¹ï¼Œå†ç”¨url-testæŒ‰ç…§å»¶è¿Ÿæ¥é€‰æ‹©åœ°åŒºå»¶è¿Ÿæœ€ä½çš„èŠ‚ç‚¹
    type: http
    url: ä½ åˆå¹¶è®¢é˜…çš„åœ°å€æ ¼å¼åº”è¯¥æ˜¯https://api.dler.io/sub?target=clash&url=https* #åˆå¹¶è®¢é˜…çš„åœ°å€
    path: ./profiles/proxies/æˆ‘çš„æœºåœºä»¬.yaml
    interval: 600
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 300
    filter: 'æ—¥æœ¬|japan' # åˆ é€‰å‡ºå«æœ‰è¯¥å…³é”®è¯çš„èŠ‚ç‚¹,è€Œä¸”è¢«ç­›é€‰å…³é”®å­—å¿…é¡»è¦æœ‰ä¸€ä¸ªèŠ‚ç‚¹,ä¸å¦‚windowsç‰ˆæ— æ³•å¯¼å…¥é…ç½®

  å°æ¹¾: #ç›®å‰å¥½åƒåªæœ‰proxy-providersä¼šç­›é€‰èŠ‚ç‚¹ æ‰€ä»¥å°±å†™åˆ°è¿™é‡Œï¼Œè€Œä¸”å¥½åƒåªèƒ½ç”¨ä¸€ä¸ªåœ°å€ï¼Œéœ€è¦åˆå¹¶è®¢é˜…
    type: http
    url: ä½ åˆå¹¶è®¢é˜…çš„åœ°å€æ ¼å¼åº”è¯¥æ˜¯https://api.dler.io/sub?target=clash&url=https* #åˆå¹¶è®¢é˜…çš„åœ°å€
    path: ./profiles/proxies/å°æ¹¾.yaml
    interval: 600
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 300
    filter: 'å°æ¹¾|å°åŒ—' # åˆ é€‰å‡ºå«æœ‰è¯¥å…³é”®è¯çš„èŠ‚ç‚¹
  ```
  æ›¿æ¢å
  ```yaml
proxy-providers: #è¿™ä¸ªæ˜¯è½½å…¥è·å–ä»£ç†ç­–ç•¥çš„æ–‡ä»¶æˆ–è€…ç½‘å€

  åˆå¹¶è®¢é˜…: #ç›®å‰å¥½åƒåªæœ‰proxy-providersä¼šç­›é€‰èŠ‚ç‚¹ æ‰€ä»¥å°±å†™åˆ°è¿™é‡Œï¼Œè€Œä¸”å¥½åƒåªèƒ½ç”¨ä¸€ä¸ªåœ°å€ï¼Œéœ€è¦åˆå¹¶è®¢é˜… #å¯¼å…¥åˆå¹¶è®¢é˜…çš„é“¾æ¥æ¥æŸ¥çœ‹æ‰€æœ‰æœºåœºçš„èŠ‚ç‚¹æƒ…å†µ
    type: http
  
    url: https://api.dler.io/sub?target=clash&url=https%3A%2F%2Fsub1.smallstrawberry.com%2Fapi%2Fv1%2Fclient%2Fsubscribe%3Ftoken%3Dc4e8691523351ffe16ea678f32410548%26flag%3Dclash #è¿™æ˜¯æˆ‘å…è´¹ç»™ä½ ä»¬æä¾›çš„ä¸€ä¸ªæœºåœº,è¿™é‡Œå°±åˆå¹¶äº†ä¸€ä¸ªè®¢é˜…é“¾æ¥


    path: ./profiles/proxies/åˆå¹¶è®¢é˜….yaml
    interval: 600
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 300

  ä¸€å…ƒæœºåœº:
    type: http
    url: https://sub1.smallstrawberry.com/api/v1/client/subscribe?token=c4e8691523351ffe16ea678f32410548&flag=clash #éƒ½å…è´¹ç»™ä½ ä»¬ç”¨æ¥ï¼Œè¿™è¿˜ä¸æŠ•ä¸ªå¸ï¼Ÿ
    path: ./profiles/proxies/ä¸€å…ƒæœºåœº.yaml
    interval: 600
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 300



  æ—¥æœ¬: #ç›®å‰å¥½åƒåªæœ‰proxy-providersä¼šç­›é€‰èŠ‚ç‚¹ æ‰€ä»¥å°±å†™åˆ°è¿™é‡Œï¼Œè€Œä¸”å¥½åƒåªèƒ½ç”¨ä¸€ä¸ªåœ°å€ï¼Œéœ€è¦åˆå¹¶è®¢é˜… #å…ˆé€šè¿‡å¯¼å…¥åˆå¹¶è®¢é˜…é“¾æ¥ï¼Œå†ç­›é€‰å‡ºæŸä¸ªå›½å®¶çš„èŠ‚ç‚¹ï¼Œä»¥è¾¾åˆ°æŒ‰å›½å®¶é€‰æ‹©èŠ‚ç‚¹ï¼Œå†ç”¨url-testæŒ‰ç…§å»¶è¿Ÿæ¥é€‰æ‹©åœ°åŒºå»¶è¿Ÿæœ€ä½çš„èŠ‚ç‚¹
    type: http
    url: https://api.dler.io/sub?target=clash&url=https%3A%2F%2Fsub1.smallstrawberry.com%2Fapi%2Fv1%2Fclient%2Fsubscribe%3Ftoken%3Dc4e8691523351ffe16ea678f32410548%26flag%3Dclash #è¿™æ˜¯æˆ‘å…è´¹ç»™ä½ ä»¬æä¾›çš„ä¸€ä¸ªæœºåœº,è¿™é‡Œå°±åˆå¹¶äº†ä¸€ä¸ªè®¢é˜…é“¾æ¥
    path: ./profiles/proxies/æˆ‘çš„æœºåœºä»¬.yaml
    interval: 600
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 300
    filter: 'æ—¥æœ¬|japan' # åˆ é€‰å‡ºå«æœ‰è¯¥å…³é”®è¯çš„èŠ‚ç‚¹,è€Œä¸”è¢«ç­›é€‰å…³é”®å­—å¿…é¡»è¦æœ‰ä¸€ä¸ªèŠ‚ç‚¹,ä¸å¦‚windowsç‰ˆæ— æ³•å¯¼å…¥é…ç½®

  å°æ¹¾: #ç›®å‰å¥½åƒåªæœ‰proxy-providersä¼šç­›é€‰èŠ‚ç‚¹ æ‰€ä»¥å°±å†™åˆ°è¿™é‡Œï¼Œè€Œä¸”å¥½åƒåªèƒ½ç”¨ä¸€ä¸ªåœ°å€ï¼Œéœ€è¦åˆå¹¶è®¢é˜…
    type: http
    url: https://api.dler.io/sub?target=clash&url=https%3A%2F%2Fsub1.smallstrawberry.com%2Fapi%2Fv1%2Fclient%2Fsubscribe%3Ftoken%3Dc4e8691523351ffe16ea678f32410548%26flag%3Dclash #è¿™æ˜¯æˆ‘å…è´¹ç»™ä½ ä»¬æä¾›çš„ä¸€ä¸ªæœºåœº,è¿™é‡Œå°±åˆå¹¶äº†ä¸€ä¸ªè®¢é˜…é“¾æ¥
    path: ./profiles/proxies/å°æ¹¾.yaml
    interval: 600
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 300
    filter: 'å°æ¹¾|å°åŒ—' # åˆ é€‰å‡ºå«æœ‰è¯¥å…³é”®è¯çš„èŠ‚ç‚¹
  ```

3. ä¿å­˜åç›´æ¥å¯¼å…¥é…ç½®,å¦‚æœæŠ¥é”™å°±æŠŠç›¸åº”çš„åœ°åŒºèŠ‚ç‚¹ä¸ªæ³¨é‡Šæ‰ï¼Œä»¥åŠä½¿ç”¨åœ°åŒºèŠ‚ç‚¹çš„ç­–ç•¥ç»„ä¸­æŠŠè¯¥èŠ‚ç‚¹æ³¨é‡Šæ‰
- ç‚¹å‡»åœ¨æ–‡æœ¬æ¨¡å¼ä¸‹ç¼–è¾‘ å¯¹å¯¼å…¥åçš„é…ç½®æ–‡ä»¶è¿›è¡Œä¿®æ”¹äº†è§£å†³æŠ¥é”™é—®é¢˜
- ä¹Ÿå¯ä»¥ç”¨æ–‡æœ¬ç¼–è¾‘å™¨åƒè®°äº‹æœ¬vscodeæ‰“å¼€é…ç½®æ–‡ä»¶è¿›è¡Œä¿®æ”¹

4. æœ€å,å¦‚æœæ ¼å¼æ­£ç¡®çš„è¯,å“ªé‡ŒæŠ¥é”™å°±æŠŠç›¸å…³çš„å†…å®¹æ³¨é‡Š[å¸¸è§æŠ¥é”™](#å¸¸è§é—®é¢˜)

## åˆå¹¶è®¢é˜…æœºåœºçš„æ–¹æ³•
æ‰“å¼€ https://sub.dler.ioç½‘å€ ç‚¹å‡»åŸºç¡€æ¨¡å¼ åœ¨è®¢é˜…é“¾æ¥é‚£ä¿¡æ¯æ ä¸­æ¯è¡Œå¡«å…¥ä½ è¦åˆå¹¶çš„è®¢é˜…é“¾æ¥ å†ç‚¹å‡»ç”Ÿæˆè®¢é˜…é“¾æ¥
![](../src/%E9%85%8D%E7%BD%AEclash%E7%9A%84yaml%E6%96%87%E4%BB%B6%E7%9A%84%E6%95%99%E7%A8%8B/%E5%90%88%E5%B9%B6%E8%AE%A2%E9%98%85%E8%8A%82%E7%82%B9.png)
## yamlæ–‡ä»¶ä¸­å„ä¸ªå†…å®¹è¯¦ç»†ä»‹ç»

### ä¸€.å„ä¸ªæ¿å—

1. åŸºç¡€å†…å®¹ (è¿™äº›å†…å®¹åˆšä¸Šæ‰‹ç›´æ¥å¤åˆ¶å°±è¡Œäº†)

```yml
   port: 7890 #ç«¯å£

socks-port: 7891 #socks5ç«¯å£

allow-lan: true #å…è®¸å±€åŸŸç½‘è¿æ¥

mode: Rule #æ¨¡å¼

log-level: info #æ—¥å¿—çº§åˆ«

external-controller: 127.0.0.1:9090 #æ§åˆ¶é¢æ¿åœ°å€

dns: #dnsè®¾ç½®

  enable: true

  nameserver:

    - 223.5.5.5

    - 119.29.29.29

  fallback:

    - https://doh.buzz:8000/dns-query

    - https://doh.beauty:8000/dns-query

    - https://cloudflare-dns.com/dns-query

    - tls://1.1.1.1:853

    - tls://1.0.0.1:853

    - https://1.1.1.1/dns-query

    - https://1.0.0.1/dns-query

    - tls://8.8.8.8:853

    - tls://8.8.4.4:853

    - https://dns.google/dns-query

    - https://dns.twnic.tw/dns-query

  fallback-filter:

    geoip: true

    geoip-code: CN

    ipcidr:

    - 240.0.0.0/4

    domain:

    - +.google.com

    - +.facebook.com

    - +.youtube.com

  nameserver-policy: ~

cfw-bypass: #è¦ç›´æ¥é€šè¿‡çš„ä¸€äº›åŸŸåçš„è®¾ç½®ï¼Œè¿™äº›ä¸€äº›éƒ½æ˜¯è‡ªå·±åŒºåŸŸå¯ä»¥é€šè¿‡çš„åŸŸåå’Œip

- qq.com
- music.163.com
- "*.music.126.net"
- localhost
- 127.*
- 10.*
- 172.16.*
- 172.17.*
- 172.18.*
- 172.19.*
- 172.20.*
- 172.21.*
- 172.22.*
- 172.23.*
- 172.24.*
- 172.25.*
- 172.26.*
- 172.27.*
- 172.28.*
- 172.29.*
- 172.30.*
- 172.31.*
- 192.168.*
- <local>

cfw-latency-timeout: 5000  #å»¶è¿Ÿè¶…æ—¶æ—¶é—´
```

2. proxy-providers
å¯ä»¥ç”¨è¿™ä¸ªé…ç½®é¡¹æ¥é€‰æ‹©æˆ–æ˜¾ç¤ºæœºåœºçš„æä¾›çš„æ‰€æœ‰èŠ‚ç‚¹ã€é€šè¿‡åˆå¹¶è®¢é˜…æ¥æ˜¾ç¤ºå’Œé€‰æ‹©æ‰€æœ‰åˆå¹¶äº†çš„æœºåœºçš„æ‰€æœ‰èŠ‚ç‚¹ã€é€šè¿‡ç­›é€‰å°†æ‰€æœ‰çš„èŠ‚ç‚¹æŒ‰ç…§åœ°åŒºè¿›è¡Œåˆ†ç±»

```yml
proxy-providers: #è¿™ä¸ªæ˜¯è½½å…¥è·å–ä»£ç†ç­–ç•¥çš„æ–‡ä»¶æˆ–è€…ç½‘å€

  åˆå¹¶è®¢é˜…: #ç›®å‰å¥½åƒåªæœ‰proxy-providersä¼šç­›é€‰èŠ‚ç‚¹ æ‰€ä»¥å°±å†™åˆ°è¿™é‡Œï¼Œè€Œä¸”å¥½åƒåªèƒ½ç”¨ä¸€ä¸ªåœ°å€ï¼Œéœ€è¦åˆå¹¶è®¢é˜… #å¯¼å…¥åˆå¹¶è®¢é˜…çš„é“¾æ¥æ¥æŸ¥çœ‹æ‰€æœ‰æœºåœºçš„èŠ‚ç‚¹æƒ…å†µ
    type: http
  
    url: ä½ åˆå¹¶è®¢é˜…çš„åœ°å€æ ¼å¼åº”è¯¥æ˜¯https://api.dler.io/sub?target=clash&url=https* #åˆå¹¶è®¢é˜…çš„åœ°å€

    path: ./profiles/proxies/åˆå¹¶è®¢é˜….yaml
    interval: 600
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 300
  ikuuu: #è‡ªå®šä¹‰çš„åç§° å¯ä»¥åˆ†åˆ«å¯¼å…¥ä¸åŒæœºåœºçš„url,æ¥ä»clashè§‚çœ‹ä¸åŒçš„æœºåœºçš„èŠ‚ç‚¹æƒ…å†µ
    type: http # æ¥æºç±»å‹ï¼šæœ‰httpå’Œfile
    url: ikuuuçš„è®¢é˜…åœ°å€æ ¼å¼ä¸ºhttps//*/ #åœ°å€æ¥æº
    path: ./profiles/proxies/ikuuu.yaml #ä¸çŸ¥é“ä¸ºä»€ä¹ˆä¸ç”Ÿæ•ˆ#è¿™ä¸ªçœäº†å®‰å“å°±è½½å…¥ä¸äº†é…ç½®
    interval: 300 #æ›´æ–°é…ç½®çš„æ—¶é—´é—´éš”
    health-check: #ç”¨äºæ£€æŸ¥é…ç½®ç½‘ç»œæƒ…å†µçš„ç½‘ç«™å’Œé—´éš”
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 600

```
ä»¥ä¸‹æ˜¯æˆ‘å®ç°çš„æ•ˆæœå›¾:(å…¶ä¸­ä¸åŒè½¯ä»¶æˆ–ç½‘ç«™çš„åˆ†æµæ˜¯é€šè¿‡rule-providerså’Œrulesæ¥å®ç°çš„)
![](../src/%E9%85%8D%E7%BD%AEclash%E7%9A%84yaml%E6%96%87%E4%BB%B6%E7%9A%84%E6%95%99%E7%A8%8B/%E8%87%AA%E5%AE%9A%E4%B9%89%E9%85%8D%E7%BD%AE%E5%90%8E%E7%9A%84%E6%95%88%E6%9E%9C.png)
3. rule-providers
å¦‚æœæœ‰æœºåœºè®¢é˜…ä¸äº†çš„ï¼Œå¯ä»¥åœ¨é“¾æ¥ç»“å°¾åŠ ä¸Šflag=clashè¯•è¯•,ä¸€å…ƒæœºåœºå°±æ˜¯è¿™æ ·çš„,åˆå¹¶è®¢é˜…çš„é“¾æ¥ä¹Ÿè¦åŠ ä¸Šï¼Œä¸å¦‚åŠ ä¸Šäº†ä½†æ˜¯è¿ä¸ä¸Š
```yml
rule-providers: #ä½¿ç”¨åœ¨çº¿è§„åˆ™é›†æ¥å¯¹ä¸åŒçš„åœ°å€ä½¿ç”¨ä¸åŒçš„èŠ‚ç‚¹
  Spotify: #è¿™é‡ŒåŒ…å«spotifyåº”ç”¨ã€ç½‘ç«™çš„æ‰€æœ‰ipåœ°å€å’ŒåŸŸå
    behavior: classical #è§„åˆ™é›†çš„è¡Œä¸º
    interval: 86400 #æ›´æ–°é—´éš”
    path: ./Rules/Spotify #è§„åˆ™é›†çš„æœ¬åœ°ä¿å­˜è·¯å¾„
    type: http #è§„åˆ™é›†çš„ç±»å‹
    url: 'https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Spotify/Spotify.yaml' #ç¡®ä¿è‡ªå·±çš„ç½‘ç»œå¯ä»¥è®¿é—®è¯¥åœ°å€,ä¸ç„¶å¯¼å…¥é…ç½®æ—¶å› ä¸ºè®¿é—®ä¸äº†å¯¼è‡´å¯¼å…¥é…ç½®å¯¼å…¥å¤±è´¥,æ‰€ä»¥å°½é‡é€‰ç”¨å›½å†…çš„åœ°å€
  lancidr:
    type: http
    behavior: ipcidr
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/lancidr.txt"
    path: ./profiles/rules/lancidr.yaml
    interval: 86400
```
1. proxies
è¿™ä¸ªæˆ‘æ²¡ç”¨ä¸Š,æ‰€ä»¥å°±ç•¥è¿‡äº†
1. proxy-groups
  è¿™äº›éƒ½ä¸ç”¨æŠ„ï¼Œè‡ªå·±å€Ÿé‰´ä¸€ä¸‹
```yml
proxy-groups: #è¿™äº›å†…å®¹æ—¶æ˜¾ç¤ºåœ¨æ§åˆ¶é¢æ¿è¿›è¡ŒèŠ‚ç‚¹é€‰æ‹©çš„å†…å®¹
  - name: å¯é€‰æ‹©çš„æ‰€æœ‰èŠ‚ç‚¹ #ç­–ç•¥ç»„åç§°
    type: select #è¯¥ç­–ç•¥ç»„é€‰æ‹©èŠ‚ç‚¹çš„æ–¹å¼ï¼Œè¿™é‡Œä¸ºè‡ªä¸»é€‰æ‹©
    # type: url-test #selectè‡ªä¸»é€‰æ‹©url-testè‡ªåŠ¨é€‰æ‹©
    use: #ä½¿ç”¨çš„æ¥æº
      - åˆå¹¶è®¢é˜…
      # - ä¸‰åˆ†æœºåœº
      # - ikuuu
    # url: http://www.gstatic.com/generate_204 #æµ‹è¯•èŠ‚ç‚¹çš„åœ°å€
    # interval: 300 #æµ‹è¯•èŠ‚ç‚¹çš„é—´éš”

  - name: ikuuuèŠ‚ç‚¹
    type: select
    use: #ä½¿ç”¨çš„æ¥æº
      - ikuuu

  - name: ä¸‰åˆ†æœºåœºèŠ‚ç‚¹
    type: select
    use: #ä½¿ç”¨çš„æ¥æº
      - ä¸‰åˆ†æœºåœº

  # - name: ä¸€å…ƒæœºåœºèŠ‚ç‚¹ #ï¼ˆä¸èƒ½ç›´æ¥å¯¼å…¥ï¼‰
  #   type: select
  #   use: #ä½¿ç”¨çš„æ¥æº
  #     - ä¸€å…ƒæœºåœº

  # - name: è§£é”èŠ‚ç‚¹
  #   type: select
  #   use: 
  #     - è§£é”

  - name: ğŸ”° é€‰æ‹©èŠ‚ç‚¹
    type: select
    proxies:
      - ğŸ‡¯ğŸ‡µæ—¥æœ¬èŠ‚ç‚¹
      - ğŸ‡ºğŸ‡¸ç¾å›½èŠ‚ç‚¹
      - ğŸ‡¹ğŸ‡¼å°æ¹¾èŠ‚ç‚¹
      - ğŸ‡­ğŸ‡°é¦™æ¸¯èŠ‚ç‚¹
      - ğŸ‡¸ğŸ‡¬æ–°åŠ å¡èŠ‚ç‚¹
      - DIRECT


  - name: ğŸ¬Netflix
    type: select
    proxies:
      # - è§£é”èŠ‚ç‚¹
      - ğŸ‡ºğŸ‡¸ç¾å›½èŠ‚ç‚¹
      - ğŸ”° é€‰æ‹©èŠ‚ç‚¹
      - DIRECT

  - name: ğŸ® Steamå•†åº—
    type: select
    proxies:
      - ğŸ”° é€‰æ‹©èŠ‚ç‚¹
      - DIRECT


  - name: ğŸ˜¼GitHub
    type: select
    proxies:
      - ğŸ”° é€‰æ‹©èŠ‚ç‚¹
      - DIRECT
      - ğŸ‡¯ğŸ‡µæ—¥æœ¬èŠ‚ç‚¹
      - ğŸ‡ºğŸ‡¸ç¾å›½èŠ‚ç‚¹
      - ğŸ‡¹ğŸ‡¼å°æ¹¾èŠ‚ç‚¹
      - ğŸ‡­ğŸ‡°é¦™æ¸¯èŠ‚ç‚¹

  - name: ğŸ”å¿…åº”
    type: select
    proxies:
      - å¯é€‰æ‹©çš„æ‰€æœ‰èŠ‚ç‚¹
      - ğŸ”° é€‰æ‹©èŠ‚ç‚¹
      - DIRECT
      - ğŸ‡¯ğŸ‡µæ—¥æœ¬èŠ‚ç‚¹
      - ğŸ‡ºğŸ‡¸ç¾å›½èŠ‚ç‚¹
      - ğŸ‡¹ğŸ‡¼å°æ¹¾èŠ‚ç‚¹
      - ğŸ‡­ğŸ‡°é¦™æ¸¯èŠ‚ç‚¹

  - name: ğŸ¤–OpenAI
    type: select
    proxies:
      - å¯é€‰æ‹©çš„æ‰€æœ‰èŠ‚ç‚¹
      - ğŸ”° é€‰æ‹©èŠ‚ç‚¹
      - DIRECT
      - ğŸ‡¯ğŸ‡µæ—¥æœ¬èŠ‚ç‚¹
      - ğŸ‡ºğŸ‡¸ç¾å›½èŠ‚ç‚¹
      - ğŸ‡¹ğŸ‡¼å°æ¹¾èŠ‚ç‚¹
      - ğŸ‡­ğŸ‡°é¦™æ¸¯èŠ‚ç‚¹


  - name: ğŸ‡¨ğŸ‡³ å›½å†…ç½‘ç«™
    type: select
    proxies:
      - DIRECT
      - ğŸ”° é€‰æ‹©èŠ‚ç‚¹

  - name: å±€åŸŸç½‘
    type: select
    proxies:
      - DIRECT
      - ğŸ”° é€‰æ‹©èŠ‚ç‚¹
      - å¯é€‰æ‹©çš„æ‰€æœ‰èŠ‚ç‚¹
      - ğŸ‡¯ğŸ‡µæ—¥æœ¬èŠ‚ç‚¹
      - ğŸ‡ºğŸ‡¸ç¾å›½èŠ‚ç‚¹
      - ğŸ‡¹ğŸ‡¼å°æ¹¾èŠ‚ç‚¹
      - ğŸ‡­ğŸ‡°é¦™æ¸¯èŠ‚ç‚¹

      
  - name: ğŸè‹¹æœæœåŠ¡
    type: select
    proxies:
      - DIRECT
      - ğŸ”° é€‰æ‹©èŠ‚ç‚¹
      - ğŸ‡¯ğŸ‡µæ—¥æœ¬èŠ‚ç‚¹
      - ğŸ‡ºğŸ‡¸ç¾å›½èŠ‚ç‚¹
      - ğŸ‡¹ğŸ‡¼å°æ¹¾èŠ‚ç‚¹
      - ğŸ‡­ğŸ‡°é¦™æ¸¯èŠ‚ç‚¹



  - name: ğŸ›‘ æ‹¦æˆªå¹¿å‘Š
    type: select
    proxies:
      - REJECT
      - DIRECT
      - ğŸ”° é€‰æ‹©èŠ‚ç‚¹
  - name: ğŸŸ æ¼ç½‘ä¹‹é±¼
    type: select
    proxies:
      - DIRECT
      - ğŸ”° é€‰æ‹©èŠ‚ç‚¹
      
  - name: ğŸªŸå¾®è½¯
    type: select
    proxies:
      - DIRECT
      - ğŸ”° é€‰æ‹©èŠ‚ç‚¹
      - ğŸ‡¯ğŸ‡µæ—¥æœ¬èŠ‚ç‚¹
      - ğŸ‡ºğŸ‡¸ç¾å›½èŠ‚ç‚¹
      - ğŸ‡¹ğŸ‡¼å°æ¹¾èŠ‚ç‚¹
      - ğŸ‡­ğŸ‡°é¦™æ¸¯èŠ‚ç‚¹

  - name: ğŸµspotify
    type: select
    proxies:
      - ğŸ‡¹ğŸ‡¼å°æ¹¾èŠ‚ç‚¹ #ç¬¬ä¸€ä¸ªèŠ‚ç‚¹æ—¶é»˜è®¤é€‰æ‹©çš„
      - ğŸ”° é€‰æ‹©èŠ‚ç‚¹
      - DIRECT
      - ğŸ‡¯ğŸ‡µæ—¥æœ¬èŠ‚ç‚¹
      - ğŸ‡ºğŸ‡¸ç¾å›½èŠ‚ç‚¹
      
      - ğŸ‡­ğŸ‡°é¦™æ¸¯èŠ‚ç‚¹
  - name: ğŸ‡¯ğŸ‡µæ—¥æœ¬èŠ‚ç‚¹
    type: url-test
    use: #ä½¿ç”¨çš„æ¥æº
      - æ—¥æœ¬
    url: http://www.gstatic.com/generate_204 #æµ‹è¯•èŠ‚ç‚¹çš„åœ°å€
    interval: 120 #æµ‹è¯•èŠ‚ç‚¹çš„é—´éš”
  - name: ğŸ‡ºğŸ‡¸ç¾å›½èŠ‚ç‚¹
    type: url-test
    use: #ä½¿ç”¨çš„æ¥æº
      - ç¾å›½
    url: http://www.gstatic.com/generate_204 #æµ‹è¯•èŠ‚ç‚¹çš„åœ°å€
    interval: 120 #æµ‹è¯•èŠ‚ç‚¹çš„é—´éš”


#æ¸¸æˆç­–ç•¥
  - name: ğŸ®æ°”çƒå¡”é˜²6
    type: select
    proxies:
      - DIRECT
      - REJECT
      - ğŸ”° é€‰æ‹©èŠ‚ç‚¹
      - ğŸ‡¯ğŸ‡µæ—¥æœ¬èŠ‚ç‚¹
      - ğŸ‡ºğŸ‡¸ç¾å›½èŠ‚ç‚¹
      - ğŸ‡¹ğŸ‡¼å°æ¹¾èŠ‚ç‚¹
      - ğŸ‡­ğŸ‡°é¦™æ¸¯èŠ‚ç‚¹
```
6. rules
```yaml
rules:
 - DOMAIN-SUFFIX,ninjakiwi.com:443,ğŸ®æ°”çƒå¡”é˜²6
 - DOMAIN-SUFFIX,bing.net,ğŸ”å¿…åº”
 - DOMAIN-SUFFIX,bing.com,ğŸ”å¿…åº”
 - DOMAIN-SUFFIX,openai.com,ğŸ¤–OpenAI
 - DOMAIN-SUFFIX,github.com,ğŸ˜¼GitHub
 - DOMAIN-SUFFIX,github.io,ğŸ˜¼GitHub
 - DOMAIN-SUFFIX,githubapp.com,ğŸ˜¼GitHub
 - DOMAIN-SUFFIX,githubassets.com,ğŸ˜¼GitHub
 - DOMAIN-SUFFIX,githubusercontent.com,ğŸ˜¼GitHub
 - RULE-SET,Microsoft,ğŸªŸå¾®è½¯
 - RULE-SET,Spotify,ğŸµspotify
 - RULE-SET,lancidr,å±€åŸŸç½‘

 - IP-CIDR,103.151.150.0/23,ğŸ“º çˆ±å¥‡è‰º&å“”å“©å“”å“© #ç±»å‹ï¼Œåœ°å€ï¼Œç”Ÿæ•ˆçš„ç­–ç•¥ç»„
 - DOMAIN,app.biliapi.net,ğŸ“º çˆ±å¥‡è‰º&å“”å“©å“”å“©
 - DOMAIN,grpc.biliapi.net,ğŸ“º çˆ±å¥‡è‰º&å“”å“©å“”å“©
 - DOMAIN,p-bstarstatic.akamaized.net,ğŸ“º çˆ±å¥‡è‰º&å“”å“©å“”å“©
 - DOMAIN,p.bstarstatic.com,ğŸ“º çˆ±å¥‡è‰º&å“”å“©å“”å“©
 - DOMAIN,upos-bstar-mirrorakam.akamaized.net,ğŸ“º çˆ±å¥‡è‰º&å“”å“©å“”å“©
 - DOMAIN,upos-bstar1-mirrorakam.akamaized.net,ğŸ“º çˆ±å¥‡è‰º&å“”å“©å“”å“©
 - DOMAIN,upos-hz-mirrorakam.akamaized.net,ğŸ“º çˆ±å¥‡è‰º&å“”å“©å“”å“©
 - DOMAIN-SUFFIX,acgvideo.com,ğŸ“º çˆ±å¥‡è‰º&å“”å“©å“”å“©
 - DOMAIN-SUFFIX,bilibili.com,ğŸ“º çˆ±å¥‡è‰º&å“”å“©å“”å“©
 - DOMAIN-SUFFIX,bilibili.tv,ğŸ“º çˆ±å¥‡è‰º&å“”å“©å“”å“©
 - IP-CIDR,45.43.32.234/32,ğŸ“º çˆ±å¥‡è‰º&å“”å“©å“”å“©,no-resolve
 - IP-CIDR,103.151.150.0/23,ğŸ“º çˆ±å¥‡è‰º&å“”å“©å“”å“©,no-resolve
 - IP-CIDR,119.29.29.29/32,ğŸ“º çˆ±å¥‡è‰º&å“”å“©å“”å“©,no-resolve
 - IP-CIDR,128.1.62.200/32,ğŸ“º çˆ±å¥‡è‰º&å“”å“©å“”å“©,no-resolve
 - IP-CIDR,128.1.62.201/32,ğŸ“º çˆ±å¥‡è‰º&å“”å“©å“”å“©,no-resolve
 - IP-CIDR,150.116.92.250/32,ğŸ“º çˆ±å¥‡è‰º&å“”å“©å“”å“©,no-resolve
 - IP-CIDR,164.52.33.178/32,ğŸ“º çˆ±å¥‡è‰º&å“”å“©å“”å“©,no-resolve
 - IP-CIDR,164.52.33.182/32,ğŸ“º çˆ±å¥‡è‰º&å“”å“©å“”å“©,no-resolve
 - IP-CIDR,164.52.76.18/32,ğŸ“º çˆ±å¥‡è‰º&å“”å“©å“”å“©,no-resolve
 - IP-CIDR,203.107.1.33/32,ğŸ“º çˆ±å¥‡è‰º&å“”å“©å“”å“©,no-resolve
 - IP-CIDR,203.107.1.34/32,ğŸ“º çˆ±å¥‡è‰º&å“”å“©å“”å“©,no-resolve
 - IP-CIDR,203.107.1.65/32,ğŸ“º çˆ±å¥‡è‰º&å“”å“©å“”å“©,no-resolve
 - IP-CIDR,203.107.1.66/32,ğŸ“º çˆ±å¥‡è‰º&å“”å“©å“”å“©,no-resolve
 - DOMAIN,cache.video.iqiyi.com,ğŸ“º çˆ±å¥‡è‰º&å“”å“©å“”å“©
 - DOMAIN-SUFFIX,iq.com,ğŸ“º çˆ±å¥‡è‰º&å“”å“©å“”å“©
 - DOMAIN,bahamut.akamaized.net,ğŸ“º åŠ¨ç”»ç–¯
 - DOMAIN,gamer-cds.cdn.hinet.net,ğŸ“º åŠ¨ç”»ç–¯
 - DOMAIN,gamer2-cds.cdn.hinet.net,ğŸ“º åŠ¨ç”»ç–¯
 - DOMAIN-SUFFIX,bahamut.com.tw,ğŸ“º åŠ¨ç”»ç–¯
 - DOMAIN-SUFFIX,gamer.com.tw,ğŸ“º åŠ¨ç”»ç–¯
 - DOMAIN-SUFFIX,exhentai.org,ğŸ”° é€‰æ‹©èŠ‚ç‚¹
 - DOMAIN-SUFFIX,e-hentai.org,ğŸ”° é€‰æ‹©èŠ‚ç‚¹
 - DOMAIN-SUFFIX,ehgt.org,ğŸ”° é€‰æ‹©èŠ‚ç‚¹
 - DOMAIN-SUFFIX,forums.e-hentai.org,ğŸ”° é€‰æ‹©èŠ‚ç‚¹
```

